[DroneInstance 0] Initializing DroneInstance with domain ID 0 [SAFE mode]
[DroneInstance 0] Battery percentage unavailable.
[DroneInstance 0] Received message from Unity: {'type': 'add_mission', 'mission_id': 'recon_task', 'waypoints': [[5, 5, 5], [10, 5, 6], [10, -5, 6], [5, -5, 5]], 'mode': 'once', 'priority': 95, 'preempt': True}
[DroneInstance 0] Mission 'recon_task' added with priority 95 and 4 waypoints.
[DroneInstance 0] Resetting takeoff flags (drone on ground).
[DroneInstance 0] Starting mission: recon_task
[DroneInstance 0] Drone not armed. Sending arm command.
[DroneInstance 0] Switching to GUIDED mode.
[DroneInstance 0] Initiating takeoff to 2.0m.
[DroneInstance 0] Waiting to reach takeoff altitude: z=-0.01
[DroneInstance 0] Waiting to reach takeoff altitude: z=0.10
[DroneInstance 0] Waiting to reach takeoff altitude: z=1.15
[DroneInstance 0] Reached takeoff altitude. Starting mission.
[DroneInstance 0] Distance to waypoint: 7.72 meters
[DroneInstance 0] Distance to waypoint: 7.18 meters
[DroneInstance 0] Distance to waypoint: 4.35 meters
[DroneInstance 0] Distance to waypoint: 1.55 meters
[DroneInstance 0] Distance to waypoint: 0.14 meters
[DroneInstance 0] _complete_current_waypoint: idx=0, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #1 to #2
[DroneInstance 0] Distance to waypoint: 4.95 meters
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'skip_wp'}
[DroneInstance 0] Skip requested â€” skipping waypoint 2
[DroneInstance 0] _complete_current_waypoint: idx=1, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #2 to #3
[DroneInstance 0] Distance to waypoint: 11.08 meters
[DroneInstance 0] Distance to waypoint: 10.11 meters
[DroneInstance 0] Distance to waypoint: 7.97 meters
[DroneInstance 0] Distance to waypoint: 4.48 meters
[DroneInstance 0] Distance to waypoint: 1.53 meters
[DroneInstance 0] Distance to waypoint: 0.13 meters
[DroneInstance 0] _complete_current_waypoint: idx=2, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #3 to #4
[DroneInstance 0] Distance to waypoint: 5.22 meters
[DroneInstance 0] Distance to waypoint: 4.77 meters
[DroneInstance 0] Distance to waypoint: 2.49 meters
[DroneInstance 0] Distance to waypoint: 0.54 meters
[DroneInstance 0] Distance to waypoint: 0.16 meters
[DroneInstance 0] _complete_current_waypoint: idx=3, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #4 to #5
[DroneInstance 0] Mission 'recon_task' complete.
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'start_manual'}
[DroneInstance 0] Entered MANUAL mode
[DroneInstance 0] Received message from Unity: {'type': 'manual_control', 'axes': {'ly': 3.0, 'lx': 0.0, 'ry': 2.0, 'rx': 0.0}}
[DroneInstance 0] Node type: <class 'node_wrapper.node_wrapper.NodeWrapper'> has publish_from_unity: <bound method NodeWrapper.publish_from_unity of <node_wrapper.node_wrapper.NodeWrapper object at 0x7f2bab5f04f0>>
[DroneInstance 0] Manual VEL cmd: x=3.00, y=-0.00, z=1.00, yaw=0.00
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'stop_manual'}
[DroneInstance 0] Exited MANUAL mode
[DroneInstance 0] Failed to stop velocity stream: 'DroneInstance' object has no attribute 'dispatcher'
[DroneInstance 0] Shutting down DroneInstance...
