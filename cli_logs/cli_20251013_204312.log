[DroneInstance 0] Initializing DroneInstance with domain ID 0 [SAFE mode]
[DroneInstance 0] Battery percentage unavailable.
[DroneInstance 0] Received message from Unity: {'type': 'add_mission', 'mission_id': 'recon_task', 'waypoints': [[5, 5, 5], [10, 5, 6], [10, -5, 6], [5, -5, 5]], 'mode': 'once', 'priority': 95, 'preempt': True}
[DroneInstance 0] Mission 'recon_task' added with priority 95 and 4 waypoints.
[DroneInstance 0] Resetting takeoff flags (drone on ground).
[DroneInstance 0] Starting mission: recon_task
[DroneInstance 0] Drone not armed. Sending arm command.
[DroneInstance 0] Switching to GUIDED mode.
[DroneInstance 0] Initiating takeoff to 2.0m.
[DroneInstance 0] Waiting to reach takeoff altitude: z=-0.01
[DroneInstance 0] Waiting to reach takeoff altitude: z=0.12
[DroneInstance 0] Waiting to reach takeoff altitude: z=1.20
[DroneInstance 0] Reached takeoff altitude. Starting mission.
[DroneInstance 0] Distance to waypoint: 7.71 meters
[DroneInstance 0] Distance to waypoint: 7.08 meters
[DroneInstance 0] Distance to waypoint: 4.17 meters
[DroneInstance 0] Distance to waypoint: 1.42 meters
[DroneInstance 0] Distance to waypoint: 0.11 meters
[DroneInstance 0] _complete_current_waypoint: idx=0, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #1 to #2
[DroneInstance 0] Distance to waypoint: 4.94 meters
[DroneInstance 0] Distance to waypoint: 4.48 meters
[DroneInstance 0] Distance to waypoint: 2.21 meters
[DroneInstance 0] Distance to waypoint: 0.42 meters
[DroneInstance 0] _complete_current_waypoint: idx=1, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #2 to #3
[DroneInstance 0] Distance to waypoint: 10.02 meters
[DroneInstance 0] Distance to waypoint: 9.55 meters
[DroneInstance 0] Distance to waypoint: 6.84 meters
[DroneInstance 0] Distance to waypoint: 3.34 meters
[DroneInstance 0] Distance to waypoint: 0.83 meters
[DroneInstance 0] Distance to waypoint: 0.21 meters
[DroneInstance 0] _complete_current_waypoint: idx=2, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #3 to #4
[DroneInstance 0] Distance to waypoint: 5.09 meters
[DroneInstance 0] Distance to waypoint: 4.61 meters
[DroneInstance 0] Distance to waypoint: 2.33 meters
[DroneInstance 0] Distance to waypoint: 0.49 meters
[DroneInstance 0] _complete_current_waypoint: idx=3, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #4 to #5
[DroneInstance 0] Mission 'recon_task' complete.
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'start_manual'}
[DroneInstance 0] Entered MANUAL mode
[DroneInstance 0] Received message from Unity: {'type': 'manual_control', 'axes': {'ly': 2.0, 'lx': 0.0, 'ry': 3.0, 'rx': 0.0}}
[DroneInstance 0] Node type: <class 'node_wrapper.node_wrapper.NodeWrapper'> has publish_from_unity: <bound method NodeWrapper.publish_from_unity of <node_wrapper.node_wrapper.NodeWrapper object at 0x7f19d68d6fa0>>
[DroneInstance 0] Manual VEL cmd: x=2.00, y=-0.00, z=1.50, yaw=0.00
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'stop_manual'}
[DroneInstance 0] Exited MANUAL mode
[DroneInstance 0] Stopped velocity streaming (manual mode off).
[DroneInstance 0] Received message from Unity: {'type': 'map_area', 'mission_id': 'map_area_test', 'points': [{'x': 6.617068173352076, 'y': 0.0, 'z': 3.753081595244969}, {'x': 5.830182213539932, 'y': 4.235875324157193, 'z': 4.741879027745499}, {'x': 2.0822370890175064, 'y': 6.408466809364902, 'z': 4.340829076061365}, {'x': -2.347179997972484, 'y': 7.223877238546961, 'z': 4.407084163923382}, {'x': -6.330443154678196, 'y': 4.59933617299413, 'z': 5.069392494012726}, {'x': -6.47286928119842, 'y': 7.926978646518874e-16, 'z': 6.91430446368158}, {'x': -6.285659940046059, 'y': -4.566799263023087, 'z': 6.897859349686542}, {'x': -2.198515726662542, 'y': -6.766335658170191, 'z': 5.200830896429462}, {'x': 1.9853844924882327, 'y': -6.1103851674940834, 'z': 6.642495495315586}, {'x': 6.362947550200797, 'y': -4.622951998688407, 'z': 6.035141652049694}], 'grid_spacing': 3.0, 'vertical_step': 2.0, 'priority': 80, 'preempt': False}
[DroneInstance 0] Mission 'map_area_test' added with priority 80 and 8 waypoints.
[DroneInstance 0] [3D Slicer] 8 waypoints generated from 3D hull between Z=3.75-6.91 every 2.0m.
[DroneInstance 0] Starting mission: map_area_test
[DroneInstance 0] Distance to waypoint: 27.86 meters
[DroneInstance 0] Distance to waypoint: 27.30 meters
[DroneInstance 0] Distance to waypoint: 25.13 meters
[DroneInstance 0] Distance to waypoint: 22.57 meters
[DroneInstance 0] Received message from Unity: {'type': 'map_area', 'mission_id': 'map_area_test', 'points': [{'x': 7.578020894306459, 'y': 0.0, 'z': 4.64789264995104}, {'x': 6.246506072768759, 'y': 4.538352313310253, 'z': 5.134636586711345}, {'x': 2.004729146043682, 'y': 6.169921889274043, 'z': 6.041172140617301}, {'x': -2.4462499931390544, 'y': 7.528783331699146, 'z': 3.135375511845533}, {'x': -6.129889594917208, 'y': 4.453625482684908, 'z': 6.633062200207478}, {'x': -6.759628075188023, 'y': 8.278156885705597e-16, 'z': 6.511017902346939}, {'x': -5.727546550716251, 'y': -4.161306150225768, 'z': 6.215443724086659}, {'x': -2.3470487331525165, 'y': -7.2234732469715315, 'z': 6.426020391225011}, {'x': 2.081788915884606, 'y': -6.407087474291974, 'z': 6.511581977820857}, {'x': 6.002641752840893, 'y': -4.361174513819556, 'z': 3.76640234373002}], 'grid_spacing': 3.0, 'vertical_step': 2.0, 'priority': 80, 'preempt': False}
[DroneInstance 0] Mission 'map_area_test' added with priority 80 and 10 waypoints.
[DroneInstance 0] [3D Slicer] 10 waypoints generated from 3D hull between Z=3.14-6.63 every 2.0m.
[DroneInstance 0] Distance to waypoint: 20.02 meters
[DroneInstance 0] Distance to waypoint: 17.47 meters
[DroneInstance 0] Distance to waypoint: 14.93 meters
[DroneInstance 0] Still approaching target... 14.93m remaining
[DroneInstance 0] Distance to waypoint: 12.41 meters
[DroneInstance 0] Still approaching target... 12.41m remaining
[DroneInstance 0] Distance to waypoint: 9.88 meters
[DroneInstance 0] Still approaching target... 9.88m remaining
[DroneInstance 0] Distance to waypoint: 7.36 meters
[DroneInstance 0] Still approaching target... 7.36m remaining
[DroneInstance 0] Distance to waypoint: 4.83 meters
[DroneInstance 0] Still approaching target... 4.83m remaining
[DroneInstance 0] Distance to waypoint: 2.33 meters
[DroneInstance 0] Still approaching target... 2.33m remaining
[DroneInstance 0] Distance to waypoint: 0.47 meters
[DroneInstance 0] _complete_current_waypoint: idx=0, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #1 to #2
[DroneInstance 0] Distance to waypoint: 2.78 meters
[DroneInstance 0] Distance to waypoint: 2.32 meters
[DroneInstance 0] Distance to waypoint: 0.75 meters
[DroneInstance 0] Distance to waypoint: 0.06 meters
[DroneInstance 0] _complete_current_waypoint: idx=1, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #2 to #3
[DroneInstance 0] Distance to waypoint: 2.84 meters
[DroneInstance 0] Distance to waypoint: 2.40 meters
[DroneInstance 0] Distance to waypoint: 0.80 meters
[DroneInstance 0] Distance to waypoint: 0.02 meters
[DroneInstance 0] _complete_current_waypoint: idx=2, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #3 to #4
[DroneInstance 0] Distance to waypoint: 2.86 meters
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'skip_wp'}
[DroneInstance 0] Skip requested — skipping waypoint 4
[DroneInstance 0] _complete_current_waypoint: idx=3, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #4 to #5
[DroneInstance 0] Distance to waypoint: 3.83 meters
[DroneInstance 0] Distance to waypoint: 2.66 meters
[DroneInstance 0] Received message from Unity: {'type': 'command', 'command': 'skip_wp'}
[DroneInstance 0] Skip requested — skipping waypoint 5
[DroneInstance 0] _complete_current_waypoint: idx=4, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #5 to #6
[DroneInstance 0] Distance to waypoint: 3.14 meters
[DroneInstance 0] Distance to waypoint: 2.63 meters
[DroneInstance 0] Distance to waypoint: 0.97 meters
[DroneInstance 0] Distance to waypoint: 0.13 meters
[DroneInstance 0] _complete_current_waypoint: idx=5, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #6 to #7
[DroneInstance 0] Distance to waypoint: 2.87 meters
[DroneInstance 0] Distance to waypoint: 2.39 meters
[DroneInstance 0] Distance to waypoint: 0.77 meters
[DroneInstance 0] Distance to waypoint: 0.05 meters
[DroneInstance 0] _complete_current_waypoint: idx=6, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #7 to #8
[DroneInstance 0] Distance to waypoint: 6.85 meters
[DroneInstance 0] Distance to waypoint: 6.25 meters
[DroneInstance 0] Distance to waypoint: 3.62 meters
[DroneInstance 0] Distance to waypoint: 1.10 meters
[DroneInstance 0] Distance to waypoint: 0.07 meters
[DroneInstance 0] _complete_current_waypoint: idx=7, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #8 to #9
[DroneInstance 0] Mission 'map_area_test' complete.
[DroneInstance 0] Starting mission: map_area_test
[DroneInstance 0] Distance to waypoint: 9.20 meters
[DroneInstance 0] Distance to waypoint: 8.62 meters
[DroneInstance 0] Distance to waypoint: 5.76 meters
[DroneInstance 0] Distance to waypoint: 2.48 meters
[DroneInstance 0] Distance to waypoint: 0.39 meters
[DroneInstance 0] _complete_current_waypoint: idx=0, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #1 to #2
[DroneInstance 0] Distance to waypoint: 3.24 meters
[DroneInstance 0] Distance to waypoint: 2.67 meters
[DroneInstance 0] Distance to waypoint: 0.96 meters
[DroneInstance 0] Distance to waypoint: 0.08 meters
[DroneInstance 0] _complete_current_waypoint: idx=1, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #2 to #3
[DroneInstance 0] Distance to waypoint: 4.17 meters
[DroneInstance 0] Distance to waypoint: 3.64 meters
[DroneInstance 0] Distance to waypoint: 1.57 meters
[DroneInstance 0] Distance to waypoint: 0.17 meters
[DroneInstance 0] _complete_current_waypoint: idx=2, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #3 to #4
[DroneInstance 0] Distance to waypoint: 3.10 meters
[DroneInstance 0] Distance to waypoint: 2.51 meters
[DroneInstance 0] Distance to waypoint: 0.84 meters
[DroneInstance 0] Distance to waypoint: 0.05 meters
[DroneInstance 0] _complete_current_waypoint: idx=3, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #4 to #5
[DroneInstance 0] Distance to waypoint: 2.86 meters
[DroneInstance 0] Distance to waypoint: 2.36 meters
[DroneInstance 0] Distance to waypoint: 0.75 meters
[DroneInstance 0] Distance to waypoint: 0.05 meters
[DroneInstance 0] _complete_current_waypoint: idx=4, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #5 to #6
[DroneInstance 0] Distance to waypoint: 2.99 meters
[DroneInstance 0] Distance to waypoint: 2.44 meters
[DroneInstance 0] Distance to waypoint: 0.79 meters
[DroneInstance 0] Distance to waypoint: 0.10 meters
[DroneInstance 0] _complete_current_waypoint: idx=5, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #6 to #7
[DroneInstance 0] Distance to waypoint: 3.04 meters
[DroneInstance 0] Distance to waypoint: 2.81 meters
[DroneInstance 0] Distance to waypoint: 0.83 meters
[DroneInstance 0] Distance to waypoint: 0.13 meters
[DroneInstance 0] _complete_current_waypoint: idx=6, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #7 to #8
[DroneInstance 0] Distance to waypoint: 2.88 meters
[DroneInstance 0] Distance to waypoint: 2.70 meters
[DroneInstance 0] Distance to waypoint: 1.15 meters
[DroneInstance 0] Distance to waypoint: 0.09 meters
[DroneInstance 0] _complete_current_waypoint: idx=7, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #8 to #9
[DroneInstance 0] Distance to waypoint: 2.98 meters
[DroneInstance 0] Distance to waypoint: 2.75 meters
[DroneInstance 0] Distance to waypoint: 1.14 meters
[DroneInstance 0] Distance to waypoint: 0.09 meters
[DroneInstance 0] _complete_current_waypoint: idx=8, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #9 to #10
[DroneInstance 0] Distance to waypoint: 2.99 meters
[DroneInstance 0] Distance to waypoint: 2.74 meters
[DroneInstance 0] Distance to waypoint: 1.13 meters
[DroneInstance 0] Distance to waypoint: 0.09 meters
[DroneInstance 0] _complete_current_waypoint: idx=9, hold_duration=0, is_holding=False, hold_start_time=None
[DroneInstance 0]  Advancing from waypoint #10 to #11
[DroneInstance 0] Mission 'map_area_test' complete.
[DroneInstance 0] Shutting down DroneInstance...
